{"version":3,"sources":["calculator.js","index.js"],"names":["Calculator","calculator","document","querySelector","keys","display","addEventListener","e","target","matches","buttonClicked","key","action","dataset","keyContent","textContent","displayedNum","previousKeyType","numberInput","Math","abs","decimalInput","operatorInput","clearInput","equalsInput","includes","firstValue","operator","secondValue","calcValue","calculate","n1","n2","firstNum","parseFloat","secondNum","myCalculator","build"],"mappings":"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","file":"Simple-Calculator.1f459eb9.js","sourceRoot":"..","sourcesContent":["export default class Calculator {\r\n  constructor() {\r\n    this.calculator = document.querySelector(\".calculator\");\r\n    this.keys = this.calculator.querySelector(\".calculator__keys\");\r\n    this.display = this.calculator.querySelector(\".calculator__display\");\r\n  }\r\n\r\n  build() {\r\n    // add an event listener to the calculator element\r\n    this.keys.addEventListener(\"click\", (e) => {\r\n      if (e.target.matches(\"button\")) {\r\n        // a calculator button was clicked. Perform action\r\n        this.buttonClicked(e.target);\r\n      }\r\n    });\r\n  }\r\n\r\n  buttonClicked(target) {\r\n    // get the button clicked\r\n    const key = target;\r\n\r\n    // get the data-action value of the button (if there is one: clear / divide / multiply / subtract / add / calculate)\r\n    const action = key.dataset.action;\r\n\r\n    // get the value of the button clicked\r\n    const keyContent = key.textContent;\r\n\r\n    // get the value of the display element\r\n    const displayedNum = this.display.textContent;\r\n\r\n    // get the type of the previous button clicked\r\n    const previousKeyType = this.calculator.dataset.previousKeyType;\r\n\r\n    // perform action if button clicked is a numeral 0 - 9\r\n    if (!action) {\r\n      this.numberInput(keyContent, displayedNum, previousKeyType);\r\n    }\r\n\r\n    // perform action negative / positive toggle if clicked\r\n    if (action === \"negative\") {\r\n      // if displayed number is negative, change to positive\r\n      if (displayedNum < 0) {\r\n        this.display.textContent = Math.abs(displayedNum);\r\n      } else {\r\n        // if displayed number is positive, change to negative\r\n        this.display.textContent = -Math.abs(displayedNum);\r\n      }\r\n    }\r\n\r\n    // change number to percentage if percentage button is clicked\r\n    if (action === \"percentage\") {\r\n      this.display.textContent = displayedNum * 0.01;\r\n    }\r\n\r\n    // perform action if button clicked is a decimal point\r\n    if (action === \"decimal\") {\r\n      this.decimalInput(displayedNum, previousKeyType);\r\n    }\r\n\r\n    // perform action if button clicked is an operator (plus / minus / multiply / divide)\r\n    if (\r\n      action === \"add\" ||\r\n      action === \"subtract\" ||\r\n      action === \"multiply\" ||\r\n      action === \"divide\"\r\n    ) {\r\n      this.operatorInput(displayedNum, previousKeyType, action);\r\n    }\r\n\r\n    // perform action if button clicked is clear\r\n    if (action === \"clear\") {\r\n      this.clearInput(key);\r\n    }\r\n\r\n    // if button clicked was not clear, change \"AC\" to \"CE\" (\"clear all to clear current\")\r\n    if (action !== \"clear\") {\r\n      const clearButton = this.calculator.querySelector(\"[data-action=clear]\");\r\n      clearButton.textContent = \"CE\";\r\n    }\r\n\r\n    // perform calculation if button clicked is equals\r\n    if (action === \"calculate\") {\r\n      this.equalsInput(displayedNum, previousKeyType);\r\n    }\r\n  }\r\n\r\n  // function that deals with the click of a number button\r\n  numberInput(keyContent, displayedNum, previousKeyType) {\r\n    if (\r\n      displayedNum === \"0\" ||\r\n      previousKeyType === \"operator\" ||\r\n      previousKeyType === \"calculate\"\r\n    ) {\r\n      // display button value directly on screen if it is the first number (i.e. display is zero)\r\n      // or the previous button clicked was an operator or equals\r\n      this.display.textContent = keyContent;\r\n    } else {\r\n      // concatenate the button value onto the displayed number string if previous button clicked was also a number\r\n      this.display.textContent = displayedNum + keyContent;\r\n    }\r\n    this.calculator.dataset.previousKeyType = \"number\";\r\n  }\r\n\r\n  // function that deals with the click of the decimal button\r\n  decimalInput(displayedNum, previousKeyType) {\r\n    if (!displayedNum.includes(\".\")) {\r\n      // only add a decimal point to the display string if it hasn't been added already\r\n      this.display.textContent = displayedNum + \".\";\r\n    } else if (\r\n      previousKeyType === \"operator\" ||\r\n      previousKeyType === \"calculate\"\r\n    ) {\r\n      // display \"0.\" if the previous button clicked wasn't a number (e.g. operator button)\r\n      this.display.textContent = \"0.\";\r\n    }\r\n    this.calculator.dataset.previousKeyType = \"decimal\";\r\n  }\r\n\r\n  // function that deals with the click of an operator button (+/-/x/รท).\r\n  operatorInput(displayedNum, previousKeyType, action) {\r\n    const firstValue = this.calculator.dataset.firstValue;\r\n    const operator = this.calculator.dataset.operator;\r\n    const secondValue = displayedNum;\r\n\r\n    if (\r\n      firstValue &&\r\n      operator &&\r\n      previousKeyType !== \"operator\" &&\r\n      previousKeyType !== \"calculate\"\r\n    ) {\r\n      // perform a calculation if a previous value (\"value one\") and operator have already been pressed & stored,\r\n      // and if the previous button clicked (\"value two\") wasn't already an operator or equals button\r\n      const calcValue = this.calculate(firstValue, operator, secondValue);\r\n\r\n      // display the calculation result\r\n      this.display.textContent = calcValue;\r\n\r\n      // set \"value one\" to the calculation result\r\n      this.calculator.dataset.firstValue = calcValue;\r\n    } else {\r\n      // first value (\"value one\") does not exist yet. Save the displayed value into \"value one\" holder.\r\n      this.calculator.dataset.firstValue = displayedNum;\r\n    }\r\n\r\n    this.calculator.dataset.previousKeyType = \"operator\";\r\n    // store the operator type into the \"operator\" holder\r\n    this.calculator.dataset.operator = action;\r\n  }\r\n\r\n  // function that deals with the click of the clear (AC / CE) button\r\n  clearInput(key) {\r\n    if (key.textContent === \"AC\") {\r\n      // \"AC\" was clicked, clear all stored values\r\n      this.calculator.dataset.firstValue = \"\";\r\n      this.calculator.dataset.operator = \"\";\r\n      this.calculator.dataset.previousKeyType = \"\";\r\n    } else {\r\n      // change \"CE\" (clear current) to \"AC\" (clear all stored)\r\n      key.textContent = \"AC\";\r\n    }\r\n    // clear the current display (\"CE\")\r\n    this.display.textContent = 0;\r\n    this.calculator.dataset.previousKeyType = \"clear\";\r\n  }\r\n\r\n  // function that deals with the click of the equals (=) button\r\n  equalsInput(displayedNum, previousKeyType) {\r\n    let firstValue = this.calculator.dataset.firstValue;\r\n    const operator = this.calculator.dataset.operator;\r\n    let secondValue = displayedNum;\r\n\r\n    // check to see if first value (\"value one\") exists.\r\n    // get first value from the first value store and second value from the screen\r\n    // get operator type from the operator store\r\n\r\n    if (firstValue) {\r\n      // only perform a calculation if previous button pressed wasn't already an equals button\r\n\r\n      if (previousKeyType !== \"calculate\") {\r\n        this.display.textContent = this.calculate(\r\n          firstValue,\r\n          operator,\r\n          secondValue\r\n        );\r\n      }\r\n    }\r\n    this.calculator.dataset.previousKeyType = \"calculate\";\r\n  }\r\n\r\n  // function to perform calculation, takes two values & operator as input and returns the calculated value\r\n  calculate(n1, operator, n2) {\r\n    const firstNum = parseFloat(n1);\r\n    const secondNum = parseFloat(n2);\r\n\r\n    switch (operator) {\r\n      case \"add\":\r\n        return firstNum + secondNum;\r\n      case \"subtract\":\r\n        return firstNum - secondNum;\r\n      case \"multiply\":\r\n        return firstNum * secondNum;\r\n      case \"divide\":\r\n        return firstNum / secondNum;\r\n      default:\r\n      // throw new Error(\"Invalid operator\");\r\n    }\r\n  }\r\n}\r\n","import Calculator from \"./calculator.js\";\r\n\r\nlet myCalculator = new Calculator();\r\n\r\nmyCalculator.build();\r\n"]}